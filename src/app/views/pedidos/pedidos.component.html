<div class="container-fluid">
  <div class="card list-produto">
    <h5 class="card-header">
      <input type="text" class="form-control" style="width: 500px;" placeholder="Buscar..." [(ngModel)]="search"
        aria-label="Buscar..." (change)="searchProduto()">
      <!-- <button type="button" class="btn btn-danger btn-sm ml-1" (click)="searchProduto()">Buscar</button> -->
    </h5>

    <div class="card-body">

      <table class="table">
        <thead>
          <tr>
            <th scope="col" style="width: 100px;">Id</th>
            <th scope="col" style="width: 700px;">Descrição</th>
            <th scope="col" style="width: 100px;">Unidade de medida</th>
            <th scope="col">Preço</th>
            <th scope="col">Quantidade</th>
            <th scope="col">Ações</th>




          </tr>
        </thead>
        <tbody>
          <!--     <!--    <nav class="navbar">
                <input class="form-control" type="text" name="search" [(ngModel)]="filter"/>
              </nav> -->
          <tr *ngFor="let produtos of allProdutos | async | paginate : { itemsPerPage: 5, currentPage: paginaAtual }">
            <td>{{produtos.produto_id}}</td>
            <td>{{produtos.descricao_produto}}</td>
            <td>{{produtos.unidade_medida}}</td>
            <td>{{produtos.preco_venda}}</td>
            <td> <input type="text" class="form-control" style="width: 100px;" placeholder="Quantidade"
                [(ngModel)]="qtd" aria-label="Quantidade"></td>
            <td>
              <button class="btn btn-primary" (click)="selectProduto(produtos,qtd)" type="button">Adicionar</button>
            </td>
          </tr>
        </tbody>
        <!-- Restante do código -->

      </table>
      <pagination-controls (pageChange)="paginaAtual = $event" previousLabel="Anterior" nextLabel="Próximo">
      </pagination-controls>
    </div>
  </div>
  <div class="card list-produto">
    <span class="name"><b>Preço Total: {{request.valor_pedido}}</b></span>
    <!-- <h5 class="card-header"><span class="name">Lista de pedidos</span> 
    </h5> -->
    <div class="card-body">
      <table class="table">
        <thead>
          <tr>
            <th scope="col" style="width: 100px;">Id</th>
            <th scope="col" style="width: 700px;">Descrição</th>
            <th scope="col">Preço</th>
            <th scope="col">Desconto</th>
            <th scope="col">Qtd</th>
            <th scope="col">Ações</th>
            <th scope="col" style="width: 200px;">
              <div *ngIf="valid != false">
                <!--  <button style="margin-right: 10px ;" type="button" class="btn btn-success"
                  (click)="sendPedidos()">Enviar</button>
                <button type="button" class="btn btn-danger" (click)="clearProdutos()">Limpar</button> -->
              </div>
            </th>
          </tr>
        </thead>
        <tbody>

          <!--    <nav class="navbar">
                <input class="form-control" type="text" name="search" [(ngModel)]="filter"/>
              </nav> -->
          <tr *ngFor="let Produtos of  request.pedido_item">
            <td>{{Produtos.idproduto}}</td>
            <td>{{Produtos.descricao_produto}}</td>
            <td>{{Produtos.preco_item}}</td>
            <td>{{Produtos.preco_desconto_item}}</td>
            <td>{{Produtos.quantidade_item}}</td>


            <td>
              <button type="button" class="btn btn-danger btn-sm ml-1"
                (click)="deleteProduto(Produtos)">Deletar</button>
            </td>
          </tr>
        </tbody>

        <table>

          <tr>
            <div *ngIf="valid != false">
              <td><button style="margin-right: 10px ;" type="button" class="btn btn-success"
                  (click)="sendPedidos()">Enviar</button></td>
              <td><button type="button" class="btn btn-danger" (click)="clearProdutos()">Limpar</button></td>
            </div>
            <td><input type="text" class="form-control mr-sm-2" style="width: 200px;margin-bottom: 10px;"
                placeholder="CPF" [(ngModel)]="CPF" aria-label="CPF" mask="000.000.000-99"></td>
          </tr>
        </table>
      </table>
    </div>
  </div>
</div>